---
import { Aside, LinkCard } from '@astrojs/starlight/components';
const { warning } = Astro.props;
---

<div id="content-gate">
    <Aside type="caution" title="Warning">
        <i>{warning}</i>
    </Aside>
    <LinkCard id="acknowledge-btn" title="I understand, continue." />
</div>

<div id="sensitive-content" style="display: none;">
    <slot />
</div>

<script type="module" is:inline>
    document.addEventListener("DOMContentLoaded", () => {
        const gate = document.getElementById("content-gate");
        const content = document.getElementById("sensitive-content");
        const btn = document.getElementById("acknowledge-btn");

        btn?.addEventListener("click", () => {
            gate.style.display = "none";
            content.style.display = "block";
        });
    });
</script>
